# $Id: Makefile.in,v 7.19 2003/05/11 22:27:34 joshk Exp $
INSTALL		= @INSTALL@
INSTALL_BIN	= @INSTALL_PROGRAM@
INSTALL_DATA	= @INSTALL_DATA@
INSTALL_SUID	= @INSTALL_PROGRAM@ -o root -m 4755
MV		= @MV@
RM		= @RM@
CP		= @CP@

CLOBBER		= @CLOBBER@

prefix		= @prefix@
exec_prefix	= @exec_prefix@
exec_suffix	= @exec_suffix@
bindir		= @bindir@
libexecdir	= @libexecdir@
sysconfdir	= @sysconfdir@
localstatedir	= @localstatedir@
# Change this later! -- adrian
moduledir	= @prefix@/modules
automoduledir	= @prefix@/modules/autoload

# Local to the etc Makefile
mandir          = @prefix@/man8
MANPAGES        = ircd.8

CONFS		= example.conf example.efnet.conf
DEFAULTCONFS	= ircd.motd kline.conf dline.conf

install: build
	mkdir -p $(sysconfdir) $(mandir)
	@for i in $(CONFS); do \
		if test -f $(sysconfdir)/$$i; then \
			echo $(MV) $(sysconfdir)/$$i $(sysconfdir)/$$i.old; \
			$(MV) $(sysconfdir)/$$i $(sysconfdir)/$$i.old; \
		fi; \
		echo $(INSTALL_DATA) $$i $(sysconfdir); \
		$(INSTALL_DATA) $$i $(sysconfdir); \
	done

	@if [ "$(CLOBBER)" = "yes" ]; then \
		${RM} -f $(sysconfdir)/*.old; \
	fi
	@for i in $(DEFAULTCONFS); do \
		if test ! -f $(sysconfdir)/$$i; then \
			echo $(INSTALL_DATA) $$i $(sysconfdir); \
			$(INSTALL_DATA) $$i $(sysconfdir); \
		fi; \
	done

	@for i in $(MANPAGES); do \
		if test ! -f $(mandir)/$$i; then \
			echo $(INSTALL_DATA) $$i $(mandir); \
			$(INSTALL_DATA) $$i $(mandir); \
		fi; \
	done

	$(CP) convertconf-example.conf $(sysconfdir)/.convertconf-example.conf

build:

clean:

depend:

distclean:
	${RM} -f Makefile
